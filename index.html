<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For My Dumpling ü•ü</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Indie+Flower&display=swap');
        body {
            font-family: 'Indie Flower', cursive;
            background-color: #fff1f2;
            /* overflow-x hidden keeps the "No" button from making the page wide, 
               but allows scrolling down if needed */
            overflow-x: hidden; 
            min-height: 100vh;
        }
        .heart-bg {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none;
            z-index: -1;
        }
    </style>
</head>
<body class="flex flex-col items-center justify-center p-4 text-center">

    <audio id="valentine-music" loop>
        <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>

    <div class="heart-bg" id="heart-bg"></div>

    <div id="question-container" class="bg-white/60 p-8 rounded-3xl backdrop-blur-md shadow-2xl border border-white max-w-lg w-full">
        <img id="display-image" src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExOHIyc3J3ZzZicWp3ZzZicWp3ZzZicWp3ZzZicWp3ZzZicWp3ZyZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9cw/cLS1cfxvGOPVpf9g3y/giphy.gif" 
             alt="Cute bear" class="w-48 h-48 mb-6 mx-auto transition-transform hover:rotate-3">
        
        <h1 id="main-text" class="text-3xl md:text-4xl font-bold text-pink-600 mb-8 leading-tight">Will you be my Valentine, my favorite Dumpling? ü•üüíñ</h1>

        <div class="flex flex-col md:flex-row items-center justify-center gap-6" id="button-group">
            <button id="yes-btn" class="bg-rose-500 hover:bg-rose-600 text-white font-bold py-4 px-10 rounded-full shadow-lg transition-all duration-200 z-50">
                YES!
            </button>
            <button id="no-btn" class="bg-gray-400 hover:bg-gray-500 text-white font-bold py-3 px-8 rounded-full shadow-md transition-all duration-200">
                No
            </button>
        </div>
    </div>

    <script>
        const yesBtn = document.getElementById('yes-btn');
        const noBtn = document.getElementById('no-btn');
        const container = document.getElementById('question-container');
        const music = document.getElementById('valentine-music');

        let clickCount = 0;
        const noTexts = [
            "Are you sure?", "Really sure??", "Think again! ü•∫", 
            "I'll buy you snacks...", "Wait, look at this face! üêª", 
            "Last chance!", "Surely not?", "You're breaking my heart ;(", 
            "I'm gonna cry... üò≠", "JUST SAY YES"
        ];

        noBtn.addEventListener('click', () => {
            clickCount++;
            
            // 1. Grow Yes button
            const newSize = 1 + (clickCount * 0.4);
            yesBtn.style.transform = `scale(${newSize})`;
            
            // 2. Update No button text
            noBtn.innerText = noTexts[Math.min(clickCount, noTexts.length - 1)];

            // 3. Move No button randomly after 3 attempts
            if(clickCount >= 3) {
                const x = Math.random() * (window.innerWidth - noBtn.offsetWidth);
                const y = Math.random() * (window.innerHeight - noBtn.offsetHeight);
                noBtn.style.position = 'fixed';
                noBtn.style.left = x + 'px';
                noBtn.style.top = y + 'px';
            }
        });

        yesBtn.addEventListener('click', () => {
            // Start Music
            music.play().catch(e => console.log("Audio play blocked until interaction"));

            // Trigger Confetti
            confetti({
                particleCount: 150,
                spread: 70,
                origin: { y: 0.6 },
                colors: ['#ff0000', '#ff69b4', '#ffb6c1']
            });

            // Update UI
            container.innerHTML = `
                <img src="IMG2.jpg" alt="Success" class="w-64 h-auto mb-6 mx-auto rounded-2xl shadow-2xl border-4 border-pink-200">
                <h1 class="text-4xl font-bold text-pink-600 animate-bounce">Yayyyy! üéâ</h1>
                <p class="text-2xl mt-4 text-pink-500 font-semibold leading-relaxed">Get excited for your gifts on the 14th!</p>
                <p class="text-xl mt-4 text-gray-600 italic">I knew you'd say yes! I love you my cute little Dumpling ‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è</p>
                <div class="mt-6 text-pink-400">‚ô´ Playing our song...</div>
            `;
        });
    </script>
</body>
</html>
